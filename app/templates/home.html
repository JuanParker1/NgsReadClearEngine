{% extends 'base.html' %}


{% block head %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block body %}


    <div class="flex flex-col mx-auto  h-full justify-center items-center">
        <div class="flex-0 h-64 my-8">
            <h1 class="text-9xl text-center text-white select-none my-5 ">Genomefltr</h1>
            <h1 class="text-8xl text-white select-none">Read Filtration Made Easy.</h1>
        </div>
        <div class="h-32 flex flex-col justify-end opacity-100 transition-opacity duration-1000 ease-in-out" id="job_button">
          <label
            class="
              w-64
              flex flex-col
              items-center
              rounded-full
              px-4
              py-6
              bg-white
              rounded-md
              shadow-md
              tracking-wide
              uppercase
              border border-blue
              cursor-pointer
              hover:bg-purple-600 hover:text-white
              text-purple-600
              ease-linear
              transition-all
              duration-150
              mx-8
              my-4
          " onclick="buttonClick()">
          <span class="mt-2 text-base leading-normal select-none animate-bounce ">Submit Job</span>
        </div>
        <div id="formdiv" class=" h-64 py-3 border-2 border-white-400 bg-white rounded-lg opacity-0 transition-opacity duration-1000 ease-in-out absolute bottom-0 left-0 invisible">
          <form class="flex h-64 flex-col justify-center items-center" id="theForm" method="POST" enctype="multipart/form-data">
            <div id="mail_div"  class="flex flex-row justify-between items-center">
              <p class="text-2xl mx-8">Enter a valid email address:</p>
              <input class="appearance-none border-2 border-blue-700 bg-white rounded-lg w-128 text-gray-700 text-xl mr-1 py-3 px-2 leading-tight focus:outline-none text-center" type="email" id="theMail" name="email" placeholder="example@example.com" required>
              <label for="theMail" id="continue_after_mail" class="w-16  flex flex-col items-center rounded-full py-3 bg-white shadow-lg tracking-wide uppercase border border-blue-700 bg-gray-600 text-white ease-linear transition-all duration-150 mx-8 my-4">
                <span class="text-base  text-2xl leading-normal select-none ">âž”</span>
              </label>
            </div>
            <div id="file_div" class="hidden flex flex-row justify-center items-center ">
              <p class="text-2xl mx-8">Select a valid reads file:</p>
              <label for="theFile" id="upload_button" class="w-64  flex flex-col  items-center  px-4  py-6  bg-white  rounded-md  shadow-lg  tracking-wide  uppercase  border border-blue-700  bg-gray-600  text-white  ease-linear  transition-all  duration-150  mx-8  my-4">
                <span class="select-none"><i class="fa fa-upload" style="font-size:24px"></i></span>
                <input class="hidden" id="theFile" type="file" name=file/>
              </label>
            </div>
            <div id="database_div" class="hidden flex flex-col justify-center items-center">
              <div id="DB_options">
                <label id="custom_button" class="w-64  flex flex-col  items-center  px-4 py-4  bg-white  rounded-md  shadow-lg  tracking-wide  uppercase  border border-blue-700  hover:bg-purple-600 hover:text-white  ease-linear  transition-all  duration-150  mx-8  my-4">
                  <span class="select-none">Custom</span>
                </label>
                <fieldset id="db" class="grid grid-cols-4">
                  {% for group in databases %}
                   <div class="select-none">
                     <input id="{{group}}" type="radio" name=db value="{{group}}"/>
                     <label class="text-2xl select-none" for="{{group}}">{{group}}</label>
                   </div>
    
                  {% endfor %}
                </fieldset>
              </div>
              <label for="db" id="submit_button" class="w-64  flex flex-col  items-center  px-4  py-6  bg-white  rounded-md  shadow-lg  tracking-wide  uppercase  border border-blue-700  bg-gray-600  text-white  ease-linear  transition-all  duration-150  mx-8  my-4">
                <span class="select-none">Submit</span>
              </label>

            </div>
          </form>
        </div>
        <div id="after_post" class="hidden flex flex-row h-48 my-8 justify-end items-center">
          <h1 id="progress-bar" class="text-center text-white animate-pulse text-4xl select-none"></h1>
        </div>
        <a class="underline text-2xl text-white py-6" href="/about">About</a>
    </div>
{% endblock %}
  
{% block scripts %}
<script src="{{url_for('static',filename='js/home.js')}}">
</script>
<script>
  initScript(parseInt("{{max_custom}}"), "{{species_prefix}}");
</script>
{% endblock %}
